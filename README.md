# Cat Finder

Это приложение предназначено для отслеживания домашних животных во время прогулки. Оно помогает определить, когда питомцы возвращаются домой после прогулки и ждут, чтобы их впустили внутрь. Приложение осуществляет детекцию движения и распознавание котов/собак в видеопотоках с камер с использованием модели YOLO. При обнаружении отправляются уведомления через Telegram-бота.


## Особенности

- **Детекция движения:** Определение изменения кадров с помощью разницы изображений.
- **Распознавание объектов:** Использование модели YOLO для обнаружения объектов (например, котов и собак).
- **Уведомления в Telegram:** Отправка уведомлений с изображениями и текстовыми сообщениями.



## Требования

- **Docker:** Рекомендуется использовать Docker для развёртывания приложения.
- **Python 3.8+** (если планируете запускать локально вне контейнера)
- **CUDA:** Для работы с моделью YOLO в режиме GPU (если доступно)
  
## Переменные окружения

   - `TELEGRAM_TOKEN` — токен Telegram-бота.
   - `CAM_URLS` — URL-адреса видеокамер через запятую.

## Установка и запуск

### Локальный запуск (без Docker)

1. **Установка зависимостей:**

   ```bash
   pip install -r requirements.txt
   ```
  
3. **Запуск приложения:**
   ```bash
   python src/main.py
   ```
### Запуск через Docker

1. **Сборка Docker-образа:**

   ```bash
   docker build -t cat-finder .
   ```

2. **Запуск контейнера:**
   ```bash
   docker run --rm --runtime=nvidia --gpus all --name cat_finder_container \
    --env-file .env \
    -v $(pwd)/clients_id.dat:/app/clients_id.dat \
    cat_finder
   ```

## Конфигурация Telegram-бота
- Команда `/start`: Подписка пользователя на уведомления.
- Команда `/conf`: Изменение порога уверенности для распознавания объектов.
- Команда `/motion_threshold`: Изменение порога для детекции движения.
- Команда `/debug on|off`: Включение/выключение режима отладки для получения подробных уведомлений.